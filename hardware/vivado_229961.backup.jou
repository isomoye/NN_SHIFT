#-----------------------------------------------------------
# Vivado v2023.2 (64-bit)
# SW Build 4029153 on Fri Oct 13 20:13:54 MDT 2023
# IP Build 4028589 on Sat Oct 14 00:45:43 MDT 2023
# SharedData Build 4025554 on Tue Oct 10 17:18:54 MDT 2023
# Start of session at: Sat Dec 16 16:39:22 2023
# Process ID: 229961
# Current directory: /home/idris/projects/FPGA_VISION/NN_SHIFT/hardware
# Command line: vivado
# Log file: /home/idris/projects/FPGA_VISION/NN_SHIFT/hardware/vivado.log
# Journal file: /home/idris/projects/FPGA_VISION/NN_SHIFT/hardware/vivado.jou
# Running On: idris-HP-EliteBook-840-G3, OS: Linux, CPU Frequency: 2500.000 MHz, CPU Physical cores: 2, Host memory: 16640 MB
#-----------------------------------------------------------
start_gui
set_param board.repoPaths {/home/idris/opt/Xilinx/Vivado/2023.2/data/boards/board_files}
create_project convo_2d /home/idris/projects/FPGA_VISION/NN_SHIFT/hardware/convo_2d -part xc7z010clg400-1
set_property board_part digilentinc.com:zybo-z7-10:part0:1.0 [current_project]
add_files {/home/idris/projects/FPGA_VISION/NN_SHIFT/src/common/multiplier.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/common/ram_mux.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/common/mult_mux.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/common/ram_mux_input.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/common/sigmoid.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/common/qmult.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/common/simple_nn.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/common/arbiter.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/examples/ram_nn.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/examples/comb_nn.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/examples/ram_nn_layer.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/examples/mnist_nn.v /home/idris/projects/FPGA_VISION/NN_SHIFT/src/neurons/neuron_comb.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/neurons/neuron.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/neurons/neuron_ram.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/neurons/neuron_layer.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/utils/ram_switch.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/bram/bram_sp.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/bram/bram_dp.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/convolution/convo_2d_wrapper.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/convolution/convo_2d.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/sqrt.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/lfsr.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/sqrt_int.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/sine_table.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/xc7/sqrt_int_tb.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/xc7/sine_table_tb.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/div.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/mul.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/xc7/lfsr_tb.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/divu.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/divu_int.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/xc7/sqrt_tb.sv /home/idris/projects/FPGA_VISION/NN_SHIFT/src/maths/xc7/clog2_tb.sv}
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
# Disabling source management mode.  This is to allow the top design properties to be set without GUI intervention.
set_property source_mgmt_mode None [current_project]
set_property top convo_2d_wrapper [current_fileset]
# Re-enabling previously disabled source management mode.
set_property source_mgmt_mode All [current_project]
update_compile_order -fileset sources_1
create_bd_design "system_wrapper"
update_compile_order -fileset sources_1
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:processing_system7:5.5 processing_system7_0
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:debug_bridge:3.0 debug_bridge_0
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:processing_system7 -config {make_external "FIXED_IO, DDR" apply_board_preset "1" Master "Enable" Slave "Enable" }  [get_bd_cells processing_system7_0]
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config { Clk {/processing_system7_0/FCLK_CLK0 (50 MHz)} Freq {100} Ref_Clk0 {} Ref_Clk1 {} Ref_Clk2 {}}  [get_bd_pins debug_bridge_0/clk]
apply_bd_automation -rule xilinx.com:bd_rule:trigger -config {ila_conn "Auto" }  [get_bd_intf_pins processing_system7_0/TRIGGER_IN_0]
apply_bd_automation -rule xilinx.com:bd_rule:trigger -config {ila_conn "Auto" }  [get_bd_intf_pins processing_system7_0/TRIGGER_OUT_0]
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_bram_ctrl:4.1 axi_bram_ctrl_0
endgroup
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTA]
endgroup
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTB]
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_gpio:2.0 axi_gpio_0
endgroup
set_property name gpio_ins [get_bd_cells axi_gpio_0]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_gpio:2.0 axi_gpio_0
endgroup
set_property name gpio_outs [get_bd_cells axi_gpio_0]
set_property CONFIG.C_ALL_INPUTS {1} [get_bd_cells gpio_ins]
set_property CONFIG.C_ALL_OUTPUTS {1} [get_bd_cells gpio_outs]
startgroup
make_bd_pins_external  [get_bd_cells gpio_ins]
make_bd_intf_pins_external  [get_bd_cells gpio_ins]
endgroup
undo
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins gpio_ins/GPIO]
endgroup
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins gpio_outs/GPIO]
endgroup
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/axi_bram_ctrl_0/S_AXI} ddr_seg {Auto} intc_ip {New AXI SmartConnect} master_apm {0}}  [get_bd_intf_pins axi_bram_ctrl_0/S_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/gpio_ins/S_AXI} ddr_seg {Auto} intc_ip {New AXI Interconnect} master_apm {0}}  [get_bd_intf_pins gpio_ins/S_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/gpio_outs/S_AXI} ddr_seg {Auto} intc_ip {New AXI Interconnect} master_apm {0}}  [get_bd_intf_pins gpio_outs/S_AXI]
endgroup
regenerate_bd_layout
startgroup
set_property -dict [list CONFIG.SUPPORTS_NARROW_BURST.VALUE_SRC PROPAGATED] [get_bd_cells axi_bram_ctrl_0]
endgroup
set_property name gpio_ins [get_bd_intf_ports GPIO_0]
set_property name gpio_outs [get_bd_intf_ports GPIO_1]
set_property name actv_in_ram [get_bd_intf_ports BRAM_PORTA_0]
set_property name actv_out_ram [get_bd_intf_ports BRAM_PORTB_0]
validate_bd_design
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:clk_wiz:6.0 clk_wiz_0
endgroup
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:board -config { Board_Interface {sys_clock ( System Clock ) } Manual_Source {Auto}}  [get_bd_pins clk_wiz_0/clk_in1]
apply_bd_automation -rule xilinx.com:bd_rule:board -config { Manual_Source {New External Port (ACTIVE_HIGH)}}  [get_bd_pins clk_wiz_0/reset]
endgroup
delete_bd_objs [get_bd_nets sys_clock_1] [get_bd_ports sys_clock]
connect_bd_net [get_bd_pins clk_wiz_0/clk_in1] [get_bd_pins processing_system7_0/FCLK_CLK0]
startgroup
set_property -dict [list \
  CONFIG.PCW_EN_CLK1_PORT {1} \
  CONFIG.PCW_FPGA1_PERIPHERAL_FREQMHZ {200} \
  CONFIG.PCW_QSPI_GRP_SINGLE_SS_ENABLE {1} \
] [get_bd_cells processing_system7_0]
endgroup
delete_bd_objs [get_bd_nets processing_system7_0_FCLK_CLK0]
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK0] [get_bd_pins clk_wiz_0/clk_in1]
delete_bd_objs [get_bd_nets processing_system7_0_FCLK_CLK0]
undo
delete_bd_objs [get_bd_nets reset_rtl_1] [get_bd_ports reset_rtl]
connect_bd_net [get_bd_pins clk_wiz_0/reset] [get_bd_pins processing_system7_0/FCLK_RESET0_N]
startgroup
set_property -dict [list \
  CONFIG.CLKOUT1_JITTER {109.241} \
  CONFIG.CLKOUT1_REQUESTED_OUT_FREQ {200.000} \
  CONFIG.MMCM_CLKOUT0_DIVIDE_F {5.000} \
  CONFIG.RESET_PORT {resetn} \
  CONFIG.RESET_TYPE {ACTIVE_LOW} \
] [get_bd_cells clk_wiz_0]
endgroup
delete_bd_objs [get_bd_nets processing_system7_0_FCLK_CLK0]
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK1] [get_bd_pins clk_wiz_0/clk_in1]
connect_bd_net [get_bd_pins clk_wiz_0/resetn] [get_bd_pins processing_system7_0/FCLK_RESET0_N]
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config { Clk {/processing_system7_0/FCLK_CLK0 (50 MHz)} Freq {100} Ref_Clk0 {} Ref_Clk1 {} Ref_Clk2 {}}  [get_bd_pins axi_bram_ctrl_0/s_axi_aclk]
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config { Clk {/processing_system7_0/FCLK_CLK0 (50 MHz)} Freq {100} Ref_Clk0 {} Ref_Clk1 {} Ref_Clk2 {}}  [get_bd_pins debug_bridge_0/clk]
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config { Clk {/processing_system7_0/FCLK_CLK0 (50 MHz)} Freq {100} Ref_Clk0 {} Ref_Clk1 {} Ref_Clk2 {}}  [get_bd_pins gpio_ins/s_axi_aclk]
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config { Clk {/processing_system7_0/FCLK_CLK0 (50 MHz)} Freq {100} Ref_Clk0 {} Ref_Clk1 {} Ref_Clk2 {}}  [get_bd_pins gpio_outs/s_axi_aclk]
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config { Clk {/processing_system7_0/FCLK_CLK0 (50 MHz)} Freq {100} Ref_Clk0 {} Ref_Clk1 {} Ref_Clk2 {}}  [get_bd_pins processing_system7_0/M_AXI_GP0_ACLK]
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config { Clk {/processing_system7_0/FCLK_CLK0 (50 MHz)} Freq {100} Ref_Clk0 {} Ref_Clk1 {} Ref_Clk2 {}}  [get_bd_pins rst_ps7_0_50M/slowest_sync_clk]
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:ila:6.2 ila_0
endgroup
delete_bd_objs [get_bd_cells ila_0]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:system_ila:1.1 system_ila_0
endgroup
startgroup
set_property CONFIG.C_DEBUG_MODE {2} [get_bd_cells debug_bridge_0]
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {/processing_system7_0/FCLK_CLK0 (50 MHz)} Clk_slave {Auto} Clk_xbar {/processing_system7_0/FCLK_CLK0 (50 MHz)} Master {/processing_system7_0/M_AXI_GP0} Slave {/debug_bridge_0/S_AXI} ddr_seg {Auto} intc_ip {/axi_smc} master_apm {0}}  [get_bd_intf_pins debug_bridge_0/S_AXI]
regenerate_bd_layout
delete_bd_objs [get_bd_cells system_ila_0]
delete_bd_objs [get_bd_intf_nets processing_system7_0_TRIGGER_OUT_0] [get_bd_intf_nets system_ila_TRIG_OUT] [get_bd_cells system_ila]
regenerate_bd_layout
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:trigger -config {ila_conn "Auto" }  [get_bd_intf_pins processing_system7_0/TRIGGER_IN_0]
apply_bd_automation -rule xilinx.com:bd_rule:trigger -config {ila_conn "Auto" }  [get_bd_intf_pins processing_system7_0/TRIGGER_OUT_0]
endgroup
connect_bd_intf_net [get_bd_intf_pins system_ila/SLOT_0_AXI] [get_bd_intf_pins gpio_ins/S_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config { Clk {/processing_system7_0/FCLK_CLK0 (50 MHz)} Freq {100} Ref_Clk0 {} Ref_Clk1 {} Ref_Clk2 {}}  [get_bd_pins system_ila/clk]
regenerate_bd_layout
regenerate_bd_layout -routing
validate_bd_design
delete_bd_objs [get_bd_intf_nets processing_system7_0_DDR] [get_bd_intf_ports DDR]
regenerate_bd_layout -routing
validate_bd_design
validate_bd_design
startgroup
endgroup
validate_bd_design
startgroup
set_property CONFIG.SINGLE_PORT_BRAM {1} [get_bd_cells axi_bram_ctrl_0]
delete_bd_objs [get_bd_intf_nets axi_bram_ctrl_0_BRAM_PORTB]
endgroup
delete_bd_objs [get_bd_intf_ports actv_out_ram]
startgroup
make_bd_pins_external  [get_bd_pins axi_bram_ctrl_0/bram_clk_a]
endgroup
delete_bd_objs [get_bd_nets axi_bram_ctrl_0_bram_clk_a] [get_bd_ports bram_clk_a_0]
validate_bd_design
delete_bd_objs [get_bd_intf_nets axi_bram_ctrl_0_BRAM_PORTA]
delete_bd_objs [get_bd_intf_ports actv_in_ram]
delete_bd_objs [get_bd_intf_nets axi_smc_M00_AXI] [get_bd_cells axi_bram_ctrl_0]
regenerate_bd_layout -routing
validate_bd_design
connect_bd_net [get_bd_pins debug_bridge_0/s_axi_aresetn] [get_bd_pins processing_system7_0/FCLK_RESET0_N]
validate_bd_design
delete_bd_objs [get_bd_nets rst_ps7_0_50M_peripheral_aresetn]
connect_bd_net [get_bd_pins rst_ps7_0_50M/mb_reset] [get_bd_pins system_ila/resetn]
validate_bd_design
startgroup
endgroup
delete_bd_objs [get_bd_intf_nets system_ila_TRIG_OUT] [get_bd_nets rst_ps7_0_50M_mb_reset] [get_bd_intf_nets processing_system7_0_TRIGGER_OUT_0] [get_bd_cells system_ila]
startgroup
set_property CONFIG.PCW_USE_CROSS_TRIGGER {0} [get_bd_cells processing_system7_0]
endgroup
startgroup
set_property CONFIG.PCW_UIPARAM_DDR_ENABLE {0} [get_bd_cells processing_system7_0]
endgroup
regenerate_bd_layout
validate_bd_design
delete_bd_objs [get_bd_nets processing_system7_0_FCLK_RESET0_N]
connect_bd_net [get_bd_pins rst_ps7_0_50M/interconnect_aresetn] [get_bd_pins debug_bridge_0/s_axi_aresetn]
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:board -config { Manual_Source {Auto}}  [get_bd_pins clk_wiz_0/resetn]
apply_bd_automation -rule xilinx.com:bd_rule:board -config { Manual_Source {Auto}}  [get_bd_pins rst_ps7_0_50M/ext_reset_in]
endgroup
regenerate_bd_layout
validate_bd_design
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_bram_ctrl:4.1 axi_bram_ctrl_0
endgroup
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:bram_cntlr -config {BRAM "Auto" }  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTA]
apply_bd_automation -rule xilinx.com:bd_rule:bram_cntlr -config {BRAM "Auto" }  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTB]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {/processing_system7_0/FCLK_CLK0 (50 MHz)} Clk_slave {Auto} Clk_xbar {/processing_system7_0/FCLK_CLK0 (50 MHz)} Master {/processing_system7_0/M_AXI_GP0} Slave {/axi_bram_ctrl_0/S_AXI} ddr_seg {Auto} intc_ip {/axi_smc} master_apm {0}}  [get_bd_intf_pins axi_bram_ctrl_0/S_AXI]
endgroup
regenerate_bd_layout
delete_bd_objs [get_bd_intf_nets axi_bram_ctrl_0_BRAM_PORTA] [get_bd_intf_nets axi_bram_ctrl_0_BRAM_PORTB] [get_bd_cells axi_bram_ctrl_0_bram]
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTA]
endgroup
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTB]
endgroup
set_property name actv_i_ram [get_bd_intf_ports BRAM_PORTA_0]
set_property name actv_o_ram [get_bd_intf_ports BRAM_PORTB_0]
validate_bd_design
startgroup
set_property -dict [list CONFIG.SUPPORTS_NARROW_BURST.VALUE_SRC PROPAGATED] [get_bd_cells axi_bram_ctrl_0]
set_property CONFIG.RD_CMD_OPTIMIZATION {1} [get_bd_cells axi_bram_ctrl_0]
endgroup
regenerate_bd_layout
validate_bd_design
startgroup
set_property CONFIG.SINGLE_PORT_BRAM {1} [get_bd_cells axi_bram_ctrl_0]
delete_bd_objs [get_bd_intf_nets axi_bram_ctrl_0_BRAM_PORTB]
endgroup
delete_bd_objs [get_bd_intf_ports actv_o_ram]
validate_bd_design
delete_bd_objs [get_bd_intf_nets axi_bram_ctrl_0_BRAM_PORTA] [get_bd_intf_ports actv_i_ram]
apply_bd_automation -rule xilinx.com:bd_rule:bram_cntlr -config {BRAM "Auto" }  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTA]
delete_bd_objs [get_bd_intf_nets axi_bram_ctrl_0_BRAM_PORTA] [get_bd_cells axi_bram_ctrl_0_bram]
startgroup
set_property CONFIG.PROTOCOL {AXI4LITE} [get_bd_cells axi_bram_ctrl_0]
endgroup
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTA]
endgroup
validate_bd_design
set_property name actv_i [get_bd_intf_ports BRAM_PORTA_0]
startgroup
set_property CONFIG.SINGLE_PORT_BRAM {0} [get_bd_cells axi_bram_ctrl_0]
endgroup
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTB]
endgroup
set_property name actv_o [get_bd_intf_ports BRAM_PORTB_0]
regenerate_bd_layout
validate_bd_design
regenerate_bd_layout -routing
save_bd_design
launch_runs synth_1 -jobs 2
wait_on_run synth_1
open_run synth_1 -name synth_1
report_utilization -name utilization_1
make_wrapper -files [get_files /home/idris/projects/FPGA_VISION/NN_SHIFT/hardware/convo_2d/convo_2d.srcs/sources_1/bd/system_wrapper/system_wrapper.bd] -top
add_files -norecurse /home/idris/projects/FPGA_VISION/NN_SHIFT/hardware/convo_2d/convo_2d.gen/sources_1/bd/system_wrapper/hdl/system_wrapper_wrapper.v
update_compile_order -fileset sources_1
make_wrapper -files [get_files /home/idris/projects/FPGA_VISION/NN_SHIFT/hardware/convo_2d/convo_2d.srcs/sources_1/bd/system_wrapper/system_wrapper.bd] -fileset [get_filesets sources_1] -inst_template
open_bd_design {/home/idris/projects/FPGA_VISION/NN_SHIFT/hardware/convo_2d/convo_2d.srcs/sources_1/bd/system_wrapper/system_wrapper.bd}
startgroup
set_property -dict [list \
  CONFIG.CLKOUT1_JITTER {179.193} \
  CONFIG.CLKOUT1_PHASE_ERROR {234.038} \
  CONFIG.CLKOUT1_REQUESTED_OUT_FREQ {300.000} \
  CONFIG.MMCM_CLKFBOUT_MULT_F {40.500} \
  CONFIG.MMCM_CLKOUT0_DIVIDE_F {3.375} \
  CONFIG.MMCM_DIVCLK_DIVIDE {5} \
] [get_bd_cells clk_wiz_0]
endgroup
